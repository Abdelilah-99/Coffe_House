@if(show) {
<div class="auth-container">
  <div class="auth-wrapper">
    <!-- Left Side - Branding -->
    <div class="auth-left">
      <div class="branding-content">
        <h3 class="welcome-text">welcome to</h3>
        <div class="coffee-logo">
          <img src="/reg_log.png" alt="Coffee House Logo">
        </div>
        <h1 class="brand-title">Coffee House</h1>
        <p class="brand-tagline">Coffee is one of the world's most popular beverages. Thanks to its high levels of antioxidants and beneficial nutrients.</p>
      </div>
    </div>

    <!-- Right Side - Form -->
    <div class="auth-right">
      <div class="form-container">
        <h2 class="form-title">Registration</h2>
        
        <form (ngSubmit)="onRegister()" class="auth-form" novalidate>
          @if(currentStep === 1) {
          <div class="form-step">
            <div class="form-row">
              <div class="form-field">
                <label for="firstname">First Name</label>
                <input 
                  type="text" 
                  id="firstname" 
                  [(ngModel)]="firstname" 
                  name="firstname"
                  maxlength="15"
                  placeholder="John"
                  required>
              </div>
              
              <div class="form-field">
                <label for="lastname">Last Name</label>
                <input 
                  type="text" 
                  id="lastname" 
                  [(ngModel)]="lastname" 
                  name="lastname"
                  maxlength="15"
                  placeholder="Doe"
                  required>
              </div>
            </div>

            <div class="form-field">
              <label for="username">Username</label>
              <input 
                type="text" 
                id="username" 
                [(ngModel)]="username" 
                name="username"
                maxlength="50"
                placeholder="johndoe"
                required>
            </div>

            <div class="form-field">
              <label for="email">Email</label>
              <input 
                type="email" 
                id="email" 
                [(ngModel)]="email" 
                name="email"
                maxlength="100"
                placeholder="john@example.com"
                required>
            </div>

            <button 
              type="button" 
              (click)="nextStep()" 
              [disabled]="!isStep1Valid()" 
              class="submit-btn">
              Next Step
            </button>
          </div>
          }

          @if(currentStep === 2) {
          <div class="form-step">
            <div class="form-field">
              <label for="password">Password</label>
              <input 
                type="password" 
                id="password" 
                [(ngModel)]="password" 
                name="password"
                maxlength="20"
                placeholder="Enter secure password"
                required>
            </div>

            <div class="form-field">
              <label for="profileImage">Profile Picture (Optional)</label>
              <div class="file-upload-wrapper">
                <input 
                  type="file" 
                  id="profileImage" 
                  (change)="onFileSelected($event)" 
                  accept="image/*"
                  class="file-input">
                @if(!profileImagePreview) {
                <label for="profileImage" class="file-upload-label">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"/>
                  </svg>
                  Choose Photo
                </label>
                }
              </div>
              @if(profileImagePreview) {
              <div class="image-preview">
                <img [src]="profileImagePreview" alt="Profile Preview">
                <button type="button" class="remove-image" (click)="removeProfileImage()">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                  </svg>
                </button>
              </div>
              }
            </div>

            <button 
              type="submit" 
              [disabled]="!isStep2Valid()" 
              class="submit-btn">
              Submit
            </button>
            
            <button 
              type="button" 
              (click)="previousStep()" 
              class="back-btn">
              Back
            </button>
          </div>
          }
        </form>

        <div class="auth-footer">
          <p>Already have an account? <a routerLink="/login">Sign In</a></p>
        </div>
      </div>
    </div>
  </div>
</div>
}
